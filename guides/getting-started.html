<html lang="en"><!DOCTYPE html><head><meta charset="UTF-8"><title>Crank.js | Getting Started</title><link rel="stylesheet" href="/index.css.css"></head><body><nav id="navbar" class="navbar"><div class="navbar-group"><div class="navbar-item"><a class href="/">Crank.js</a></div><div class="navbar-item"><a class="current" href="/guides/getting-started">Docs</a></div><div class="navbar-item"><a class href="/blog/">Blog</a></div></div><div class="navbar-group"><div class="navbar-item"><a href="https://github.com/brainkim/crank">Github</a></div><div class="navbar-item"><a href="http://npm.im/@bikeshaving/crank">NPM</a></div></div></nav><div id="sidebar" class="sidebar"><h3>Guides</h3><div class="sidebar-item"><a href="/guides/getting-started" class="current">Getting Started</a></div><div class="sidebar-item"><a href="/guides/elements" class="">JSX, Elements and Renderers</a></div><div class="sidebar-item"><a href="/guides/components" class="">Components</a></div><div class="sidebar-item"><a href="/guides/async-components" class="">Asynchronous Components</a></div><div class="sidebar-item"><a href="/guides/special-tags-and-props" class="">Special Props and Tags</a></div><div class="sidebar-item"><a href="/guides/working-with-typescript" class="">Working with TypeScript</a></div></div><div class="main"><div class="content"><h1>Getting Started</h1><h2 id="installation">Installation</h2>
<p>Crank is available on <a href="https://npmjs.org/@bikeshaving/crank">NPM</a> in the ESModule and CommonJS formats.</p>
<pre><code class="language-shell">$ npm install @bikeshaving/crank</code></pre>
<pre><code class="language-jsx">/** @jsx createElement */
import {createElement} from &quot;@bikeshaving/crank&quot;;
import {renderer} from &quot;@bikeshaving/crank/dom&quot;;

renderer.render(&lt;div id=&quot;hello&quot;&gt;Hello world&lt;/div&gt;, document.body);</code></pre>
<p>If your environment does not support ESModules (youâ€™ll probably see a message like <code>SyntaxError: Unexpected token export</code>), you can import the CommonJS versions of the library like so:</p>
<pre><code class="language-jsx">/** @jsx createElement */
import {createElement} from &quot;@bikeshaving/crank/cjs&quot;;
import {renderer} from &quot;@bikeshaving/crank/cjs/dom&quot;;

renderer.render(&lt;div id=&quot;hello&quot;&gt;Hello world&lt;/div&gt;, document.body);</code></pre>
<h2 id="key-examples">Key Examples</h2>
<h3 id="a-simple-component">A Simple Component</h3>
<pre><code class="language-jsx">/** @jsx createElement */
import {createElement} from &quot;@bikeshaving/crank&quot;;
import {renderer} from &quot;@bikeshaving/crank/dom&quot;;

function Greeting ({name = &quot;World&quot;}) {
  return (
    &lt;div&gt;Hello {name}&lt;/div&gt;
  );
}

renderer.render(&lt;Greeting /&gt;, document.getElementById(&quot;app&quot;));</code></pre>
<p><a href="https://codesandbox.io/s/a-simple-crank-component-gnknz">Try on CodeSandbox</a></p>
<h3 id="a-stateful-component">A Stateful Component</h3>
<pre><code class="language-jsx">/** @jsx createElement */
import {createElement} from &quot;@bikeshaving/crank&quot;;
import {renderer} from &quot;@bikeshaving/crank/dom&quot;;

function *Timer () {
  let seconds = 0;
  const interval = setInterval(() =&gt; {
    seconds++;
    this.refresh();
  }, 1000);
  try {
    while (true) {
      yield &lt;div&gt;Seconds: {seconds}&lt;/div&gt;;
    }
  } finally {
    clearInterval(interval);
  }
}

renderer.render(&lt;Timer /&gt;, document.getElementById(&quot;app&quot;));</code></pre>
<p><a href="https://codesandbox.io/s/a-stateful-crank-component-hh8zx">Try on CodeSandbox</a></p>
<h3 id="an-async-component">An Async Component</h3>
<pre><code class="language-jsx">/** @jsx createElement */
import {createElement} from &quot;@bikeshaving/crank&quot;;
import {renderer} from &quot;@bikeshaving/crank/dom&quot;;

async function IPAddress () {
  const res = await fetch(&quot;https://api.ipify.org&quot;);
  const address = await res.text();
  return &lt;div&gt;Your IP Address: {address}&lt;/div&gt;;
}

renderer.render(&lt;IPAddress /&gt;, document.getElementById(&quot;app&quot;));</code></pre>
<p><a href="https://codesandbox.io/s/an-async-crank-component-ru02q">Try on CodeSandbox</a></p>
<h3 id="a-loading-component">A Loading Component</h3>
<pre><code class="language-jsx">/** @jsx createElement */
import {createElement, Fragment} from &quot;@bikeshaving/crank&quot;;
import {renderer} from &quot;@bikeshaving/crank/dom&quot;;

async function LoadingIndicator() {
  await new Promise(resolve =&gt; setTimeout(resolve, 1000));
  return &lt;div&gt;Fetching a good boy...&lt;/div&gt;;
}

async function RandomDog({throttle = false}) {
  const res = await fetch(&quot;https://dog.ceo/api/breeds/image/random&quot;);
  const data = await res.json();
  if (throttle) {
    await new Promise(resolve =&gt; setTimeout(resolve, 2000));
  }

  return (
    &lt;a href={data.message}&gt;
      &lt;img src={data.message} alt=&quot;A Random Dog&quot; width=&quot;300&quot; /&gt;
    &lt;/a&gt;
  );
}

async function *RandomDogLoader({throttle}) {
  for await ({throttle} of this) {
    yield &lt;LoadingIndicator /&gt;
    yield &lt;RandomDog throttle={throttle} /&gt;;
  }
}

function *RandomDogApp() {
  let throttle = false;
  this.addEventListener(&quot;click&quot;, (ev) =&gt; {
    if (ev.target.tagName === &quot;BUTTON&quot;) {
      throttle = !throttle;
      this.refresh();
    }
  });

  while (true) {
    yield (
      &lt;Fragment&gt;
        &lt;div&gt;
          &lt;button&gt;Show me another dog.&lt;/button&gt;
        &lt;/div&gt;
        &lt;RandomDogLoader throttle={throttle} /&gt;
      &lt;/Fragment&gt;
    );
  }
}

renderer.render(&lt;RandomDogApp /&gt;, document.body);</code></pre>
<p><a href="https://codesandbox.io/s/a-loading-crank-component-pci9d">Try on CodeSandbox</a></p>
</div></div><script src="/index.tsx.js"></script></body></html>